<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>SVGoodness</title>
    <style type="text/css" media="screen">
      html{
        height: 100%;
        width: 100%;
      }
      body{
        margin: 0px;
        height: 100%;
        width: 100%;
      }
      input{
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.6);
        color: white;
        border: none;
        outline: none;
      }
      iframe{
        height: 100%;
        width: 100%;
      }
      #input{
        position: absolute;
        bottom: 20px;
        width: 75vw;
        height: 40px;
        padding-left: 12.5vw;
        z-index: 9999;
      }
    </style>
  </head>
  <body>
    <iframe id="render-frame" src="about:blank" frameborder="0"></iframe>

    <div id="input">
      <input type="text" id="drawing_input" value='[(Compose (Translate 20.0 4.0) (SkewX -10),Square,(3,"#000000","#ff0000")),(Compose (Scale 1.0 1.0) (Translate 24.0 24.0),Square,(1,"#00ff00","#ff00ff")),(Compose (Translate 12.5 12.5) (SkewY 45),Circle,(1,"#00ffff","#0000ff"))]' onkeyup="go()">
    </div>

    <script>
      var last = ""
      var go = function(){
        var input = document.getElementById('drawing_input').value
        if (input === last) return
        last = input;
        var enc = btoa(input)
        var url = location.href + enc
        var frame = document.getElementById('render-frame')
        frame.src = url
      }
      go();
    </script>
  </body>
</html>
